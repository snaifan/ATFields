<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Get in touch with Brian Atsinwa at AT Fields for collaborations or inquiries about farming, trading, and personal growth.">
    <meta name="keywords" content="contact, AT Fields, farming, trading, personal growth">
    <title>AT Fields | Contact</title>
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600&family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <div class="container header-content">
            <a href="index.html" class="logo">AT Fields</a>
            <nav class="main-nav">
                <button class="menu-toggle" aria-label="Toggle menu">
                    <i class="fas fa-bars"></i>
                </button>
                <ul class="nav-list">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="offerings.html">Offerings</a></li>
                     <li><a href="blog.html">Blog</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="https://yobi.beehiiv.com/subscribe" target="_blank" rel="noopener noreferrer">Sign up</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Page Hero -->
    <section class="page-hero">
        <div class="container">
            <h1>Contact</h1>
            <p>Let’s connect to grow together.</p>
        </div>
    </section>

    <!-- Contact Form -->
    <section class="contact-form section-padding">
        <div class="container">
            <h2>Get in Touch</h2>
            <p class="section-intro">I’d love to hear from you. Share your thoughts, questions, or collaboration ideas.</p>
            <div class="contact-form-wrapper">
              <form id="subscribe-form" action="https://formspree.io/f/mjkwgolw" method="POST" class="contact-form">
                    <div class="form-group">
                        <label for="name">Name</label>
                        <input type="text" id="name" name="name" required placeholder="Your name" aria-label="Your name">
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required placeholder="Your email" aria-label="Your email">
                    </div>
                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea id="message" name="message" required placeholder="Your message" aria-label="Your message" rows="5"></textarea>
                    </div>
                    <button type="submit" class="btn">Send Message</button>
                </form>
                <div id="form-message" style="display: none;"></div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-nav">
                <a href="offerings.html">Offerings</a>
                <a href="https://yobi.beehiiv.com/subscribe" target="_blank" rel="noopener noreferrer">Newsletter</a>
                <a href="contact.html">Contact</a>
                <a href="privacy-policy.html">Privacy Policy</a>
                <a href="terms-of-service.html">Terms of Service</a>
            </div>
            <div class="social-icons">
                <a href="https://x.com/BrianAtsinwa" aria-label="X"><i class="fa-brands fa-twitter"></i></a>
                <a href="https://www.facebook.com/share/19kREnFfyU/" aria-label="Follow AT Fields on Facebook"><i class="fa-brands fa-facebook-f"></i></a>
                <a href="https://youtube.com/@ATFields" aria-label="Subscribe to AT Fields on YouTube"><i class="fa-brands fa-youtube"></i></a>
            </div>
            <p>&copy; 2025 AT Fields. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- Inline Script -->
    <script src="https://unpkg.com/ScrollReveal"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=your-id"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM loaded');

            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });

            // Menu toggle functionality
            const menuToggle = document.querySelector('.menu-toggle');
            const navList = document.querySelector('.nav-list');
            if (menuToggle && navList) {
                console.log('Menu elements found');
                menuToggle.addEventListener('click', () => {
                    navList.classList.toggle('active');
                    console.log('Toggled menu, active:', navList.classList.contains('active'));
                });
                navList.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', () => {
                        navList.classList.remove('active');
                        console.log('Link clicked, menu closed');
                    });
                });
            } else {
                console.log('Menu elements not found');
            }

            // Highlight active navigation link
            const currentPath = window.location.pathname.split('/').pop();
            const navLinks = document.querySelectorAll('.nav-list a');
            navLinks.forEach(link => {
                if (link.getAttribute('href') === currentPath || (currentPath === '' && link.getAttribute('href') === 'index.html')) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });

            // Popup CTA
            function showPopup() {
                const popup = document.getElementById('cta-popup');
                const dontShowAgain = localStorage.getItem('hidePopup');
                if (!dontShowAgain) {
                    setTimeout(() => {
                        popup.style.display = 'flex';
                    }, 5000);
                }
            }
            document.querySelector('.close-btn').addEventListener('click', () => {
                document.getElementById('cta-popup').style.display = 'none';
                if (document.getElementById('dontShowAgain').checked) {
                    localStorage.setItem('hidePopup', 'true');
                }
            });
            document.getElementById('dontShowAgain').addEventListener('change', (e) => {
                if (e.target.checked) {
                    localStorage.setItem('hidePopup', 'true');
                } else {
                    localStorage.removeItem('hidePopup');
                }
            });
            showPopup();

            // Weather Widget
            async function fetchWeather() {
                const apiKey = '038c6dd4adf0cbe6b615d5538c3a0841';
                const city = 'Nairobi';
                const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`;
                try {
                    const response = await fetch(url);
                    const data = await response.json();
                    const weatherDisplay = document.getElementById('weather-display');
                    if (data.cod === 200) {
                        weatherDisplay.innerHTML = `${data.main.temp}°C, ${data.weather[0].description} in ${city} <img src="https://openweathermap.org/img/wn/${data.weather[0].icon}.png" alt="Weather icon" style="width: 32px;">`;
                    } else {
                        weatherDisplay.textContent = `Weather data unavailable. Error: ${data.message}`;
                    }
                } catch (error) {
                    console.error('Weather fetch failed:', error);
                    document.getElementById('weather-display').textContent = 'Weather data unavailable.';
                }
            }
            fetchWeather();

            // ScrollReveal Animations
            ScrollReveal({
                distance: '50px',
                duration: 1200,
                easing: 'cubic-bezier(0.25, 0.1, 0.25, 1)',
                interval: 250,
                reset: false
            });
            ScrollReveal().reveal('.page-hero h1', { origin: 'top', delay: 200 });
            ScrollReveal().reveal('.page-hero p', { origin: 'top', delay: 300 });
            ScrollReveal().reveal('.contact-form h2', { origin: 'top', delay: 100 });
            ScrollReveal().reveal('.section-intro', { origin: 'top', delay: 200 });
            ScrollReveal().reveal('.contact-form-wrapper', { origin: 'bottom', delay: 300 });

            // Contact Form Submission
            const form = document.getElementById('contact-form');
            const message = document.getElementById('form-message');
            if (form && message) {
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const data = new FormData(form);
                    fetch(form.action, {
                        method: 'POST',
                        body: data,
                        headers: { 'Accept': 'application/json' }
                    }).then(response => {
                        if (response.ok) {
                            message.style.display = 'block';
                            message.textContent = 'Thank you! I’ll get back to you soon.';
                            message.style.color = 'green';
                            form.reset();
                        } else {
                            message.style.display = 'block';
                            message.textContent = 'Oops! Something went wrong. Please try again.';
                            message.style.color = 'red';
                        }
                    }).catch(error => {
                        message.style.display = 'block';
                        message.textContent = 'Error: Please try again later.';
                        message.style.color = 'red';
                        console.error('Fetch error:', error);
                    });
                });
            }

            // Dynamic Footer Year
            const footerText = document.querySelector('.footer p');
            if (footerText) {
                footerText.innerHTML = `&copy; ${new Date().getFullYear()} AT Fields. All Rights Reserved.`;
            }
        });
    </script>

    <!-- CTA Popup -->
    <div id="cta-popup" class="popup" style="display: none;">
        <div class="popup-content">
            <span class="close-btn">&times;</span>
            <h3>Get Your Free Guide!</h3>
            <p>Download 'The Rooted Growth Blueprint' to start your journey to sustainable success.</p>
            <a href="https://yobi.beehiiv.com/subscribe" target="_blank" rel="noopener noreferrer" class="btn cta-btn">Subscribe Now</a>
            <label class="dont-show-label">
                <input type="checkbox" id="dontShowAgain"> Don’t show this again
            </label>
        </div>
    </div>
</body>
</html>